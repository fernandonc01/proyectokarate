plugins {
    id 'java'
    id 'maven-publish'
}

repositories {
    mavenCentral() // Usar Maven Central para las dependencias
}

dependencies {
    // Dependencias de Karate
    testImplementation 'com.intuit.karate:karate-junit5:1.4.0'
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.10.0'
    testImplementation 'org.junit.jupiter:junit-jupiter-engine:5.10.0'
}

test {
    useJUnitPlatform() // Configura el uso de JUnit 5 (necesario para Karate)
    testLogging {
        events 'passed', 'failed', 'skipped' // Muestra los resultados en la salida
    }

    // Configura Karate para ejecutar las pruebas
    afterTest { desc, result ->
        if (result.resultType == org.junit.platform.engine.TestExecutionResult.Status.FAILED) {
            println "Test Failed: ${desc.displayName}"
        }
    }
}

task wrapper(type: Wrapper) {
    gradleVersion = '8.9' // Asegúrate de usar una versión de Gradle compatible
}
